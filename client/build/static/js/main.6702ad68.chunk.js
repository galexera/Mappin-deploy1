(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{112:function(e,t,s){},119:function(e,t,s){"use strict";s.r(t);var c=s(0),n=s.n(c),a=s(28),r=s.n(a),l=s(9),o=(s(71),s(14)),i=s.n(o),j=s(17),u=s(18),b=s.n(u),d=(s(90),s(2)),O=function(e){e.setshowRegister;var t=Object(c.useState)(!1),s=Object(l.a)(t,2),n=s[0],a=s[1],r=Object(c.useState)(!1),o=Object(l.a)(r,2),u=o[0],O=o[1],h=Object(c.useRef)(),x=Object(c.useRef)(),p=Object(c.useRef)(),f=function(){var e=Object(j.a)(i.a.mark((function e(t){var s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),s={name:h.current.value,email:x.current.value,password:p.current.value},e.prev=2,e.next=5,b.a.post("/users/register",s);case 5:O(!1),a(!0),e.next=14;break;case 9:e.prev=9,e.t0=e.catch(2),console.log(e.t0),a(!1),O(!0);case 14:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}();return Object(d.jsxs)("div",{className:"login-box",children:[Object(d.jsxs)("div",{className:"logo",children:[Object(d.jsx)("div",{className:"symbol",children:Object(d.jsx)("i",{class:"fas fa-map-marker-alt"})}),Object(d.jsx)("h1",{children:"MapPin"})]}),Object(d.jsx)("div",{className:"outer-form",children:Object(d.jsxs)("form",{onSubmit:f,children:[Object(d.jsx)("h1",{children:"Register"}),Object(d.jsxs)("div",{class:"textbox",children:[Object(d.jsx)("i",{class:"fas fa-user"}),Object(d.jsx)("input",{autoFocus:!0,type:"text",placeholder:"Username",ref:h,className:"registerlabel"})]}),Object(d.jsxs)("div",{class:"textbox",children:[Object(d.jsx)("i",{class:"fas fa-envelope-open"}),Object(d.jsx)("input",{type:"text",placeholder:"Email",ref:x})]}),Object(d.jsxs)("div",{class:"textbox",children:[Object(d.jsx)("i",{class:"fas fa-lock"}),Object(d.jsx)("input",{type:"password",min:"6",placeholder:"password",ref:p})]}),Object(d.jsx)("button",{type:"submit",className:"btn",children:"Submit"}),n&&Object(d.jsx)("span",{className:"success",children:"Successfull. You can login now!"}),u&&Object(d.jsx)("span",{className:"failure",children:"Something went wrong!"})]})})]})},h=(s(92),function(e){var t=e.setshowLogin,s=e.myStorage,n=e.setcurrentUser,a=e.setshowMap,r=Object(c.useState)(!1),o=Object(l.a)(r,2),u=o[0],O=o[1],h=Object(c.useState)(!1),x=Object(l.a)(h,2),p=x[0],f=x[1],m=Object(c.useRef)(),v=Object(c.useRef)(),g=function(){var e=Object(j.a)(i.a.mark((function e(c){var r,l;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c.preventDefault(),r={username:m.current.value,password:v.current.value},e.prev=2,console.log(r),e.next=6,b.a.post("/users/login",r);case 6:l=e.sent,console.log(l),console.log(" hello dudeeeeeeeee"),console.log(l.data.Username),s.setItem("user",l.data.Username),n(l.data.Username),a(!0),t(!1),f(!1),e.next=21;break;case 17:e.prev=17,e.t0=e.catch(2),O(!1),f(!0);case 21:case"end":return e.stop()}}),e,null,[[2,17]])})));return function(t){return e.apply(this,arguments)}}();return Object(d.jsxs)("div",{className:"login-box",children:[Object(d.jsxs)("div",{className:"logo",children:[Object(d.jsx)("div",{className:"symbol",children:Object(d.jsx)("i",{class:"fas fa-map-marker-alt"})}),Object(d.jsx)("h1",{children:"MapPin"})]}),Object(d.jsx)("div",{className:"outer-form",children:Object(d.jsxs)("form",{onSubmit:g,children:[Object(d.jsx)("h1",{children:"Login"}),Object(d.jsxs)("div",{class:"textbox",children:[Object(d.jsx)("i",{class:"fas fa-user"}),Object(d.jsx)("input",{autoFocus:!0,type:"text",placeholder:"Username",ref:m,className:"loginlabel"})]}),Object(d.jsxs)("div",{class:"textbox",children:[Object(d.jsx)("i",{class:"fas fa-lock"}),Object(d.jsx)("input",{type:"password",min:"6",placeholder:"password",ref:v})]}),Object(d.jsx)("button",{type:"submit",className:"btn",children:"Submit"}),u&&Object(d.jsx)("span",{className:"success",children:"Successfull logged in!"}),p&&Object(d.jsx)("span",{className:"failure",children:"Something went wrong!"})]})})]})}),x=s(65),p=s(25),f=s(24),m=s(135),v=(s(112),s(63)),g=s.n(v),w=s(64),S=function(e){var t=e.currentUser,s=Object(c.useState)([]),n=Object(l.a)(s,2),a=n[0],r=n[1],o=Object(c.useState)(null),u=Object(l.a)(o,2),O=u[0],h=u[1],v=Object(c.useState)(null),S=Object(l.a)(v,2),N=S[0],k=S[1],y=Object(c.useState)(null),C=Object(l.a)(y,2),R=C[0],U=C[1],I=Object(c.useState)(null),M=Object(l.a)(I,2),L=M[0],A=M[1],B=Object(c.useState)(0),D=Object(l.a)(B,2),z=D[0],F=D[1],J=Object(c.useState)({width:"100vw",height:"100vh",latitude:19.2094,longitude:73.0939,zoom:4}),Y=Object(l.a)(J,2),P=Y[0],T=Y[1];Object(c.useEffect)((function(){(function(){var e=Object(j.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b.a.get("/pins");case 3:t=e.sent,r(t.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}})()()}),[]);var E=function(){var e=Object(j.a)(i.a.mark((function e(s){var c,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s.preventDefault(),c={username:t,title:R,desc:L,rating:z,lat:N.lat,long:N.long},e.prev=2,e.next=5,b.a.post("pins/",c);case 5:n=e.sent,r([].concat(Object(x.a)(a),[n.data])),k(null),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}();return Object(d.jsx)("div",{className:"outer-map",children:Object(d.jsxs)(f.c,Object(p.a)(Object(p.a)({},P),{},{mapboxApiAccessToken:"pk.eyJ1Ijoib21rYXJtYW5lIiwiYSI6ImNrbnhmZm9lMjBhM2kyb21sM3J6ZTF4eG0ifQ.BQsv79-acjkmjnrYXDfXFQ",mapStyle:"mapbox://styles/safak/cknndpyfq268f17p53nmpwira",onDblClick:function(e){var t=Object(l.a)(e.lngLat,2),s=t[0],c=t[1];k({lat:c,long:s})},transitionDuration:"200",onViewportChange:function(e){return T(e)},children:[a.map((function(e){return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(f.a,{latitude:e.lat,longitude:e.long,offsetLeft:3.5*-P.zoom,offsetTop:7*-P.zoom,children:Object(d.jsx)(m.a,{style:{fontSize:7*P.zoom,color:e.username===t?"tomato":"slateblue",cursor:"pointer"},onClick:function(){return t=e._id,s=e.lat,c=e.long,h(t),void T(Object(p.a)(Object(p.a)({},P),{},{latitude:s,longitude:c}));var t,s,c}})}),e._id===O&&Object(d.jsx)(f.b,{latitude:e.lat,longitude:e.long,closeButton:!0,closeOnClick:!1,anchor:"left",onClose:function(){h(null)},children:Object(d.jsxs)("div",{className:"card",children:[Object(d.jsx)("label",{children:"Place"}),Object(d.jsx)("h4",{className:"place",children:e.title}),Object(d.jsx)("label",{children:"Review"}),Object(d.jsxs)("p",{children:[" ",e.desc]}),Object(d.jsx)("label",{children:"Rating"}),Object(d.jsx)("div",{className:"stars",children:Array(e.rating).fill(Object(d.jsx)(g.a,{className:"star"}))}),Object(d.jsx)("label",{children:"Info"}),Object(d.jsx)("p",{children:e.info}),Object(d.jsxs)("span",{className:"username",children:["created by ",Object(d.jsx)("b",{children:e.username})]}),Object(d.jsxs)("span",{className:"date",children:[Object(w.a)(e.createdAt)," "]})]})})]})})),N&&Object(d.jsx)(f.b,{latitude:N.lat,longitude:N.long,closeButton:!0,closeOnClick:!1,anchor:"left",onClose:function(){k(null)},children:Object(d.jsx)("div",{children:Object(d.jsxs)("form",{onSubmit:E,children:[Object(d.jsx)("label",{children:"Title"}),Object(d.jsx)("input",{placeholder:"enter title",onChange:function(e){return U(e.target.value)}}),Object(d.jsx)("label",{children:"Review"}),Object(d.jsx)("textarea",{placeholder:"say something about this place",onChange:function(e){return A(e.target.value)}}),Object(d.jsx)("label",{children:"Rating"}),Object(d.jsxs)("select",{onChange:function(e){return F(e.target.value)},children:[Object(d.jsx)("option",{value:"1",children:"1"}),Object(d.jsx)("option",{value:"2",children:"2"}),Object(d.jsx)("option",{value:"3",children:"3"}),Object(d.jsx)("option",{value:"4",children:"4"}),Object(d.jsx)("option",{value:"4",children:"5"})]}),Object(d.jsx)("button",{type:"submit",className:"submitButton",children:"Add Pin"})]})})})]}))})};var N=function(){var e=window.localStorage,t=Object(c.useState)(null),s=Object(l.a)(t,2),n=s[0],a=s[1],r=Object(c.useState)(!1),o=Object(l.a)(r,2),i=o[0],j=o[1],u=Object(c.useState)(!0),b=Object(l.a)(u,2),x=b[0],p=b[1],f=Object(c.useState)(!1),m=Object(l.a)(f,2),v=m[0],g=m[1];return Object(d.jsxs)("div",{className:"App",children:[v&&Object(d.jsx)(S,{currentUser:n}),i&&Object(d.jsx)(O,{setshowRegister:j}),x&&Object(d.jsx)(h,{setshowLogin:p,myStorage:e,setcurrentUser:a,setshowMap:g}),n?Object(d.jsx)("button",{className:"button-logout",onClick:function(){g(!1),e.removeItem("user"),a(null),j(!1),p(!0)},children:"Log out"}):Object(d.jsxs)("div",{className:"buttons",children:[Object(d.jsx)("button",{className:"button-login",onClick:function(){j(!1),p(!0)},children:"Log in"}),Object(d.jsx)("button",{className:"button-register",onClick:function(){p(!1),j(!0)},children:"Register"})]})]})};r.a.render(Object(d.jsx)(n.a.StrictMode,{children:Object(d.jsx)(N,{})}),document.getElementById("root"))},71:function(e,t,s){},90:function(e,t,s){},92:function(e,t,s){}},[[119,1,2]]]);
//# sourceMappingURL=main.6702ad68.chunk.js.map